<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฑุงูููุง ูุงูุฏู ุจุฑุง ููุฑูุงูุงู ุญูุงุณ ุฌูุน</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600;700&display=swap');
        body {
            font-family: 'Vazirmatn', sans-serif;
            scroll-behavior: smooth;
        }
        .guideline-card .details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, padding 0.5s ease-out;
            padding-top: 0;
            padding-bottom: 0;
        }
        .guideline-card.active .details {
            max-height: 500px;
            padding-top: 1rem;
            padding-bottom: 1rem;
            transition: max-height 0.7s ease-in, padding 0.7s ease-in;
        }
        .guideline-card.active .icon-arrow {
            transform: rotate(180deg);
        }
        .icon-arrow {
            transition: transform 0.3s ease-in-out;
        }
        /* Styles for Memory Match Game */
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            max-width: 300px; /* Adjust grid size */
            margin: 0 auto;
        }
        .memory-card {
            width: 70px; /* Size of each card */
            height: 70px;
            background-color: #a78bfa; /* Indigo-400 */
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            cursor: pointer;
            perspective: 1000px;
            transition: transform 0.6s;
            position: relative;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .memory-card.flipped {
            transform: rotateY(180deg);
            background-color: #ede9fe; /* Indigo-100 */
        }
        .memory-card .card-face {
            position: absolute;
            backface-visibility: hidden;
        }
        .memory-card .card-back {
            transform: rotateY(0deg);
            color: white;
        }
        .memory-card .card-front {
            transform: rotateY(180deg);
            color: #4c1d95; /* Indigo-900 */
        }
        .memory-card.matched {
            background-color: #6ee7b7; /* Emerald-300 */
            cursor: default;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto px-4 py-8 md:py-12">

        <!-- Header Section -->
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-indigo-700 mb-2">๐ง๐ ุฑุงูููุง ูุงูุฏู ุจุฑุง ููุฑูุงูุงู ุญูุงุณ ุฌูุน ๐</h1>
            <p class="text-lg text-slate-600">ููฺฉุงุฑ ุฎุงูู ู ูุฏุฑุณู ุจุฑุง ุชููุช ุชูุฌู ู ุชูุฑฺฉุฒ ฺฉูุฏฺฉุงู</p>
        </header>

        <!-- Core Concept Section -->
        <section class="bg-indigo-100 border-r-4 border-indigo-500 rounded-lg p-6 mb-12 max-w-4xl mx-auto">
            <h2 class="text-2xl font-bold text-indigo-800 mb-3">๐ง ุชูุฌู ู ุชูุฑฺฉุฒ: ููุงุฑุช ฺฉู ูุงุฒ ุจู ุชูุฑู ู ุชฺฉุฑุงุฑ ุฏุงุฑุฏ!</h2>
            <p class="text-slate-700 leading-relaxed">
                ููุงููุฏ ูุฑ ููุงุฑุช ุฏฺฏุฑุ **ุชูุฌู ู ุชูุฑฺฉุฒ** ูุฒ ุจุง **ุชูุฑู ู ุชฺฉุฑุงุฑ ูุฏุงูู** ุชููุช ูโุดูุฏ. ุงู ฺฉุงุฑฺฏุงู ฑฐ ุฌูุณูโุงุ ุจุณุชุฑ ุฑุง ูุฑุงูู ูโฺฉูุฏ ุชุง ูุฑุฒูุฏุงู ุดูุง ุจุง ุจุงุฒโูุง ู ูุนุงูุชโูุง ูุฏูููุฏุ ุงุจุฒุงุฑูุง ูุงุฒู ุจุฑุง ูุฏุฑุช ุญูุงุณ ู ุชูุฑฺฉุฒ ุฎูุฏ ุฑุง ุจุงููุฒูุฏ. ุงูุง ุชุงุซุฑ ุงู ุชูุฑูุงุชุ ูุงุฒููุฏ **ููุฑุงู ู ุชุฏุงูู** ุฏุฑ ูุญุท ุฎุงูู ูุฒ ูุณุช. ููฺฉุงุฑ ุดูุง ูุงูุฏู ูุญุชุฑูุ ููุด ฺฉูุฏ ุฏุฑ ูุงูุฏฺฏุงุฑ ู ุชุนูู ุงู ููุงุฑุชโูุง ุจู ุฒูุฏฺฏ ุฑูุฒูุฑู ูุฑุฒูุฏุงูุชุงู ุฎูุงูุฏ ุฏุงุดุช.
            </p>
        </section>

        <!-- Interactive Guidelines Section -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-8 text-slate-800">๐ก ุฑุงูููุงโูุง ฺฉูุฏ ุจุฑุง ุดูุง</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto" id="guidelines-container">

                <!-- Guideline Card 1: Calm Environment -->
                <div class="guideline-card bg-white rounded-xl shadow-md cursor-pointer hover:shadow-lg transition-shadow duration-300">
                    <div class="p-5 flex justify-between items-center">
                        <h3 class="text-xl font-semibold text-indigo-700">ุงุฌุงุฏ ูุญุท ุขุฑุงู ุฏุฑ ุฎุงูู</h3>
                        <span class="text-3xl icon-arrow">๐คซ</span>
                    </div>
                    <div class="details px-5 text-slate-600 border-t border-slate-200">
                        <p>ูุถุง ุขุฑุงู ู ุฏูุฑ ุงุฒ ุดููุบ ู ุนูุงูู ุญูุงุณโูพุฑุช (ูุงููุฏ ุตุฏุง ุฒุงุฏ ุชููุฒูู ุง ุฑูุชโูุขูุฏ ูฺฉุฑุฑ) ุฑุง ูุฑุงูู ฺฉูุฏุ ุจู ุฎุตูุต ุฏุฑ ุฒูุงู ุงูุฌุงู ุชฺฉุงูู ุง ูุนุงูุชโูุง ูุงุฒููุฏ ุชูุฑฺฉุฒ.</p>
                    </div>
                </div>

                <!-- Guideline Card 2: Daily Practice -->
                <div class="guideline-card bg-white rounded-xl shadow-md cursor-pointer hover:shadow-lg transition-shadow duration-300">
                    <div class="p-5 flex justify-between items-center">
                        <h3 class="text-xl font-semibold text-indigo-700">ุชุดูู ุจู ุชูุฑูุงุช ุฑูุฒุงูู</h3>
                        <span class="text-3xl icon-arrow">โจ</span>
                    </div>
                    <div class="details px-5 text-slate-600 border-t border-slate-200">
                        <p>ูุฑุฒูุฏ ุฎูุฏ ุฑุง ุชุดูู ฺฉูุฏ ฺฉู ุชูุฑูุงุช ุณุงุฏูโุง ุฑุง ฺฉู ุฏุฑ ฺฉุงุฑฺฏุงู ุงุฏ ูโฺฏุฑุฏ (ูุซูุงู ุชูุฑูุงุช ุชููุณ ุง ุจุงุฒโูุง ูฺฉุฑ ุณุงุฏู)ุ ุฏุฑ ุฎุงูู ูุฒ ุจู ุตูุฑุช ููุธู ุงูุฌุงู ุฏูุฏ. ุญุช ฺูุฏ ุฏููู ุชูุฑู ุฑูุฒุงูู ูุฒ ูโุชูุงูุฏ ุจุณุงุฑ ูุคุซุฑ ุจุงุดุฏ.</p>
                    </div>
                </div>
                
                <!-- Guideline Card 3: Patience -->
                <div class="guideline-card bg-white rounded-xl shadow-md cursor-pointer hover:shadow-lg transition-shadow duration-300">
                    <div class="p-5 flex justify-between items-center">
                        <h3 class="text-xl font-semibold text-indigo-700">ุตุจูุฑ ู ุญูุงุช ูุซุจุช</h3>
                        <span class="text-3xl icon-arrow">โค๏ธ</span>
                    </div>
                    <div class="details px-5 text-slate-600 border-t border-slate-200">
                        <p>ุฏุฑ ุทูู ุงู ูุณุฑุ ุตุจูุฑ ุจุงุดุฏ. ูพุดุฑูุช ุฏุฑ ุชูุฌู ู ุชูุฑฺฉุฒ ูุงุฒููุฏ ุฒูุงู ุงุณุช. ูุฑ ฺฏุงู ฺฉูฺฺฉ ูุฑุฒูุฏุชุงู ุฑุง ุชุดูู ฺฉูุฏ ู ุจู ุงู ุงุญุณุงุณ ุชูุงูููุฏ ุจุฏูุฏ. ุงุฒ ููุงุณู ุจุง ุฏฺฏุฑุงู ูพุฑูุฒ ฺฉูุฏ.</p>
                    </div>
                </div>

                <!-- Guideline Card 4: Screen Time -->
                <div class="guideline-card bg-white rounded-xl shadow-md cursor-pointer hover:shadow-lg transition-shadow duration-300">
                    <div class="p-5 flex justify-between items-center">
                        <h3 class="text-xl font-semibold text-indigo-700">ฺฉุงูุด ุฒูุงู ุงุณุชูุงุฏู ุงุฒ ูุถุง ูุฌุงุฒ</h3>
                        <span class="text-3xl icon-arrow">๐ฑ</span>
                    </div>
                    <div class="details px-5 text-slate-600 border-t border-slate-200">
                        <p class="mb-3">**ูุทูุงู ุงุณุชูุงุฏู ูุฑุฒูุฏุงูุชุงู ุงุฒ ุฏุณุชฺฏุงูโูุง ุงูฺฉุชุฑููฺฉ ู ูุถุง ูุฌุงุฒ (ููุจุงูุ ุชุจูุชุ ุชููุฒููุ ุจุงุฒโูุง ูุฏุฆู) ุฑุง ุจู ุญุฏุงูู ุจุฑุณุงูุฏ.** ุชุญููุงุช ูุดุงู ูโุฏูุฏ ฺฉู ุงุณุชูุงุฏู ุจุด ุงุฒ ุญุฏ ุงุฒ ุงู ูุณุงู ูโุชูุงูุฏ ุชุฃุซุฑ ููู ุจุฑ ุฏุงููู ุชูุฌู ู ุชูุงูุง ุชูุฑฺฉุฒ ฺฉูุฏฺฉุงู ุฏุงุดุชู ุจุงุดุฏ.</p>
                        <p class="font-semibold mb-2">ุฌุงฺฏุฒูโูุง ูพุดููุงุฏ:</p>
                        <ul class="list-disc list-inside space-y-1">
                            <li>ูุทุงูุนู ฺฉุชุงุจ ๐</li>
                            <li>ุจุงุฒโูุง ุฑููุฒ ๐ฒ</li>
                            <li>ูุนุงูุชโูุง ููุฑ ๐จ</li>
                            <li>ูุฑุฒุด ู ุจุงุฒโูุง ูุฒฺฉ โฝ</li>
                        </ul>
                    </div>
                </div>

                <!-- Guideline Card 5: Sleep & Nutrition -->
                <div class="guideline-card bg-white rounded-xl shadow-md cursor-pointer hover:shadow-lg transition-shadow duration-300">
                    <div class="p-5 flex justify-between items-center">
                        <h3 class="text-xl font-semibold text-indigo-700">ุฎูุงุจ ฺฉุงู ู ุชุบุฐู ููุงุณุจ</h3>
                        <span class="text-3xl icon-arrow">๐ด</span>
                    </div>
                    <div class="details px-5 text-slate-600 border-t border-slate-200">
                        <p>ูุทูุฆู ุดูุฏ ูุฑุฒูุฏุชุงู ุจู ุงูุฏุงุฒู ฺฉุงู ูโุฎูุงุจุฏ ู ุชุบุฐูโุง ุณุงูู ู ูุชุนุงุฏู ุฏุงุฑุฏ. ุงู ุฏู ุนุงูู ููุด ุญุงุช ุฏุฑ ุนููฺฉุฑุฏ ูุบุฒ ู ุชูุงูุง ุชูุฑฺฉุฒ ุฏุงุฑูุฏ.</p>
                    </div>
                </div>

            </div>
        </section>

        <!-- Visualization Section -->
        <section class="mb-12">
             <h2 class="text-3xl font-bold text-center mb-8 text-slate-800">๐ ุชูุงุฒู ุงุฏูโุขู ุฑูุฒุงูู ฺฉ ููุฑูุงู</h2>
             <div class="bg-white p-6 rounded-xl shadow-lg max-w-2xl mx-auto">
                <div class="chart-container relative h-80 md:h-96 w-full mx-auto max-w-lg">
                    <canvas id="activityBalanceChart"></canvas>
                </div>
             </div>
        </section>

        <!-- AI-Powered Owl Features Section -->
        <div class="mt-8 w-full p-4 bg-purple-50 rounded-lg shadow-inner">
            <h2 class="text-xl font-semibold text-purple-700 mb-4 text-center">
                โจูุดุงูุฑู ุฌุบุฏ ุฏุงูุงโจ
            </h2>
            <p class="text-sm text-gray-600 mb-3 text-center">
                ฺฉ ุณูุงู ุงุฒ ุฌุบุฏ ุฏุงูุง ุฏุฑุจุงุฑู ุชูุฑฺฉุฒ ู ุญูุงุณโุฌูุน ุจูพุฑุณ:
            </p>
            <input type="text" id="owlQuestion" placeholder="ูุซูุงู: ฺุทูุฑ ุญูุงุณูู ุฌูุน ฺฉููุ"
                   class="w-full p-3 border border-purple-300 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-purple-500 transition duration-200 text-right"
                   style="direction: rtl;">
            <button id="askOwlButton"
                    class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 mb-4">
                ุงุฒ ุฌุบุฏ ุฏุงูุง ุจูพุฑุณ โจ
            </button>

            <div id="loadingIndicatorConsultation" class="hidden text-center mt-4 text-purple-600 font-medium">
                ุฌุบุฏ ุฏุงูุง ุฏุงุฑู ูฺฉุฑ ูโฺฉูู... ๐ฆ๐ค
            </div>

            <div id="owlResponseConsultation" class="mt-5 p-4 bg-purple-100 border border-purple-200 rounded-md text-purple-800 text-lg text-center hidden">
                <!-- Owl's advice will be displayed here -->
            </div>

            <!-- Focused Story Section -->
            <div class="mt-8 pt-4 border-t border-purple-200">
                <h2 class="text-xl font-semibold text-purple-700 mb-4 text-center">
                    โจุฏุงุณุชุงู ุญูุงุณโุฌูุนโจ
                </h2>
                <p class="text-sm text-gray-600 mb-3 text-center">
                    ุจุง ฺฉ ุฏุงุณุชุงู ฺฉูุชุงู ู ุขููุฒูุฏู ุงุฒ ุฌุบุฏ ุฏุงูุง ุจุดููู!
                </p>
                <button id="getStoryButton"
                        class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2">
                    ุฏุงุณุชุงู ุจฺฏู ุฌุบุฏ ุฏุงูุง โจ
                </button>
                <div id="loadingIndicatorStory" class="hidden text-center mt-4 text-green-600 font-medium">
                    ุฌุบุฏ ุฏุงูุง ุฏุงุฑู ุฏุงุณุชุงู ูโุจุงูู... ๐๐ฆ
                </div>
                <div id="owlResponseStory" class="mt-5 p-4 bg-green-100 border border-green-200 rounded-md text-green-800 text-lg text-center hidden" style="text-align: justify; direction: rtl;">
                    <!-- Owl's story will be displayed here -->
                </div>
            </div>

            <!-- Daily Focus Challenge Section -->
            <div class="mt-8 pt-4 border-t border-purple-200">
                <h2 class="text-xl font-semibold text-purple-700 mb-4 text-center">
                    โจฺุงูุด ุชูุฑฺฉุฒ ุงูุฑูุฒโจ
                </h2>
                <p class="text-sm text-gray-600 mb-3 text-center">
                    ฺฉ ฺุงูุด ุณุงุฏู ุจุฑุง ุชููุช ุชูุฑฺฉุฒุช ุงุฒ ุฌุบุฏ ุฏุงูุง ุจฺฏุฑ!
                </p>
                <button id="getChallengeButton"
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                    ฺุงูุด ุงูุฑูุฒ โจ
                </button>
                <div id="loadingIndicatorChallenge" class="hidden text-center mt-4 text-blue-600 font-medium">
                    ุฌุบุฏ ุฏุงูุง ุฏุงุฑู ฺุงูุด ูพุฏุง ูโฺฉูู... ๐งฉ๐ฆ
                </div>
                <div id="owlResponseChallenge" class="mt-5 p-4 bg-blue-100 border border-blue-200 rounded-md text-blue-800 text-lg text-center hidden">
                    <!-- Owl's challenge will be displayed here -->
                </div>
            </div>

            <!-- Owl's Riddle Section -->
            <div class="mt-8 pt-4 border-t border-purple-200">
                <h2 class="text-xl font-semibold text-purple-700 mb-4 text-center">
                    โจูุนูุง ุฌุบุฏ ุฏุงูุงโจ
                </h2>
                <p class="text-sm text-gray-600 mb-3 text-center">
                    ุจุง ุฏูุช ฺฏูุด ุจุฏู ู ูุนูุง ุฌุบุฏ ุฏุงูุง ุฑู ุญู ฺฉู!
                </p>
                <button id="getRiddleButton"
                        class="w-full bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2">
                    ูุนูุง ุจฺฏู โจ
                </button>
                <div id="loadingIndicatorRiddle" class="hidden text-center mt-4 text-yellow-600 font-medium">
                    ุฌุบุฏ ุฏุงูุง ุฏุงุฑู ูุนูุง ูโุณุงุฒู... ๏ฟฝ๐ฆ
                </div>
                <div id="owlResponseRiddle" class="mt-5 p-4 bg-yellow-100 border border-yellow-200 rounded-md text-yellow-800 text-lg text-center hidden" style="text-align: justify; direction: rtl;">
                    <!-- Owl's riddle will be displayed here -->
                </div>
            </div>

            <!-- Owl's Calming Breath Section -->
            <div class="mt-8 pt-4 border-t border-purple-200">
                <h2 class="text-xl font-semibold text-purple-700 mb-4 text-center">
                    โจุชููุณ ุขุฑุงูุด ุฌุบุฏโจ
                </h2>
                <p class="text-sm text-gray-600 mb-3 text-center">
                    ุฌุบุฏ ุฏุงูุง ุจูุช ุงุฏ ูุฏู ฺุทูุฑ ุจุง ููุณโูุงุช ุขุฑูู ุจฺฏุฑ.
                </p>
                <button id="getBreathButton"
                        class="w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2">
                    ุดุฑูุน ุชููุณ ุขุฑุงูุด โจ
                </button>
                <div id="loadingIndicatorBreath" class="hidden text-center mt-4 text-teal-600 font-medium">
                    ุฌุบุฏ ุฏุงูุง ุฏุงุฑู ุขูุงุฏู ูุดู... ๐งโโ๏ธ๐ฆ
                </div>
                <div id="owlResponseBreath" class="mt-5 p-4 bg-teal-100 border border-teal-200 rounded-md text-teal-800 text-lg text-center hidden" style="text-align: justify; direction: rtl;">
                    <!-- Owl's breathing exercise will be displayed here -->
                </div>
            </div>

        </div>

        <!-- Game Section (Manual Games) -->
        <section class="mb-12 pt-8 border-t border-slate-200">
            <h2 class="text-3xl font-bold text-center mb-8 text-slate-800">๐ฎ ุจุงุฒโูุง ุชูุฑฺฉุฒ ู ุชูุฌู ุจุฑุง ููุฑูุงูุงู ฺฉูฺฺฉ ๐ฎ</h2>
            <p class="text-center text-slate-600 mb-6">
                ุงูุฌุง ูโุชููุฏ ุจุง ุจุงุฒโูุง ุณุงุฏู ู ุณุฑฺฏุฑูโฺฉููุฏูุ ุญูุงุณโุฌูุน ุจูุฏู ุฑู ุชูุฑู ฺฉูุฏ. ูุฑ ุจุงุฑ ฺฉู ุฑู ุฏฺฉูู ฺฉูฺฉ ูโฺฉูุฏุ ฺฉ ุจุงุฒ ุฌุฏุฏ ุธุงูุฑ ูุดู!
            </p>

            <div class="flex justify-center mb-6">
                <button id="newGameButton" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                    ุจุงุฒ ุฌุฏุฏ โจ
                </button>
            </div>

            <div id="gameContainer" class="bg-white p-6 rounded-xl shadow-lg max-w-md mx-auto min-h-[200px] flex items-center justify-center text-center text-slate-700 text-xl">
                ุจุฑุง ุดุฑูุนุ ุฑู "ุจุงุฒ ุฌุฏุฏ" ฺฉูฺฉ ฺฉูุฏ!
            </div>
        </section>
        
        <!-- Home Exercises Section -->
        <section class="mb-12 pt-8 border-t border-slate-200">
            <h2 class="text-3xl font-bold text-center mb-8 text-slate-800">๐ ุชูุฑูุงุช ู ฺฉุงุฑุจุฑฺฏโูุง ุฏุฑ ููุฒู ุจุฑุง ุชููุช ุญูุงุณโุฌูุน ๐</h2>
            <p class="text-center text-slate-600 mb-6">
                ุงู ุชูุฑูุงุช ุณุงุฏู ุฑุง ูโุชูุงูุฏ ุจู ุตูุฑุช ุฑูุฒุงูู ุจุง ูุฑุฒูุฏุชุงู ุงูุฌุงู ุฏูุฏ ุชุง ููุงุฑุชโูุง ุชูุฌู ู ุชูุฑฺฉุฒ ุงู ุฑุง ุฏุฑ ูุญุท ุฎุงูู ุชููุช ฺฉูุฏ.
            </p>

            <div class="flex justify-center mb-6">
                <button id="newHomeExerciseButton" class="bg-rose-600 hover:bg-rose-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2">
                    ูุดุงูุฏู ุชูุฑู ุฌุฏุฏ ๐
                </button>
            </div>

            <div id="homeExerciseContainer" class="bg-white p-6 rounded-xl shadow-lg max-w-md mx-auto min-h-[200px] flex flex-col justify-center text-center text-slate-700">
                <h3 id="homeExerciseTitle" class="text-2xl font-semibold text-rose-700 mb-3 hidden"></h3>
                <p id="homeExerciseDescription" class="text-base text-slate-600 mb-4 hidden"></p>
                <p id="homeExerciseInitialMessage" class="text-xl">ุจุฑุง ูุดุงูุฏู ุชูุฑูุ ุฑู "ูุดุงูุฏู ุชูุฑู ุฌุฏุฏ" ฺฉูฺฉ ฺฉูุฏ!</p>
            </div>
        </section>


        <!-- Closing Section -->
        <footer class="text-center pt-8 border-t border-slate-200">
            <p class="text-lg text-slate-700 mb-4">ูุง ูุชุนูุฏู ฺฉู ุจุง ุจูุชุฑู ู ุฌุฐุงุจโุชุฑู ุฑูุดโูุงุ ููุงุฑุชโูุง ุชูุฌู ู ุชูุฑฺฉุฒ ุฑุง ุฏุฑ ูุฑุฒูุฏุงู ุดูุง ุชููุช ฺฉูู. ุจุง ุงุฑ ู ููฺฉุงุฑ ุดูุงุ ูโุชูุงูู ุขูุฏูโุง ุฑูุดูโุชุฑ ู ูุชูุฑฺฉุฒุชุฑ ุจุฑุง ููุฑูุงูุงู ฺฉูฺฺฉูุงู ุจุณุงุฒู.</p>
            <p class="font-semibold text-indigo-800">ุญูุฏู ุดุฑู</p>
            <p class="text-slate-500">ูุดุงูุฑ ุฏูุฑู ุงูู</p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Element references for Owl AI Features
            const askOwlButton = document.getElementById('askOwlButton');
            const owlQuestionInput = document.getElementById('owlQuestion');
            const owlResponseConsultationDiv = document.getElementById('owlResponseConsultation');
            const loadingIndicatorConsultation = document.getElementById('loadingIndicatorConsultation');

            const getStoryButton = document.getElementById('getStoryButton');
            const owlResponseStoryDiv = document.getElementById('owlResponseStory');
            const loadingIndicatorStory = document.getElementById('loadingIndicatorStory');

            const getChallengeButton = document.getElementById('getChallengeButton');
            const owlResponseChallengeDiv = document.getElementById('owlResponseChallenge');
            const loadingIndicatorChallenge = document.getElementById('loadingIndicatorChallenge');
            
            const getRiddleButton = document.getElementById('getRiddleButton');
            const owlResponseRiddleDiv = document.getElementById('owlResponseRiddle');
            const loadingIndicatorRiddle = document.getElementById('loadingIndicatorRiddle');

            const getBreathButton = document.getElementById('getBreathButton');
            const owlResponseBreathDiv = document.getElementById('owlResponseBreath');
            const loadingIndicatorBreath = document.getElementById('loadingIndicatorBreath');

            // --- ุงูุฌุงุณุช ฺฉู ุดูุง ุจุงุฏ ฺฉูุฏ API ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ ---
            // ฺฉุงุฑุจุฑ ฺฏุฑุงู: ฺฉูุฏ API ุฎูุฏ ุฑุง ฺฉู ุงุฒ Google AI Studio ุฏุฑุงูุช ฺฉุฑุฏูโุงุฏุ ุงูุฌุง ูุฑุงุฑ ุฏูุฏ.
            // ุงฺฏุฑ ุงู ุงูพูฺฉุดู ุฑุง ุฏุฑ ูุญุท ุฎุงุฑุฌ ุงุฒ Canvas ูุฒุจุงู ูโฺฉูุฏุ ุงู ุฎุท ุถุฑูุฑ ุงุณุช.
            const API_KEY_FOR_ALL_AI ="AIzaSyAlg_DC6wda_V9jGuUb_WAW70Fpfhtw5Zg
"; 
            // -----------------------------------------------------


            // Function to call Gemini API (for Owl features)
            async function callGeminiAPI(systemPrompt, userPrompt, responseDiv, loadingDiv, isJson = false) {
                loadingDiv.classList.remove('hidden');
                responseDiv.classList.add('hidden');
                responseDiv.textContent = ''; 

                const payload = { 
                    contents: [{ role: "user", parts: [{ text: `${systemPrompt}\n${userPrompt}` }] }],
                    generationConfig: isJson ? {
                        responseMimeType: "application/json",
                        responseSchema: {
                            type: "ARRAY",
                            items: { "type": "STRING" }
                        }
                    } : undefined 
                };
                
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${API_KEY_FOR_ALL_AI}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        if (isJson) {
                            try {
                                return JSON.parse(text); 
                            } catch (e) {
                                console.error('Error parsing JSON response from LLM:', e, 'Raw text:', text);
                                return null; 
                            }
                        }
                        responseDiv.textContent = text;
                        responseDiv.classList.remove('hidden');
                    } else {
                        responseDiv.textContent = 'ุฌุบุฏ ุฏุงูุง ูุชูุงูุณุช ูพุงุณุฎ ุฏูุฏ. ูุทูุงู ุฏูุจุงุฑู ุชูุงุด ฺฉูุฏ.';
                        responseDiv.classList.remove('hidden');
                        console.error('Unexpected LLM response structure:', result);
                    }
                } catch (error) {
                    responseDiv.textContent = 'ูุดฺฉู ุฏุฑ ุงุฑุชุจุงุท ุจุง ุฌุบุฏ ุฏุงูุง ูพุด ุขูุฏ. ูุทูุงู ุงุชุตุงู ุงูุชุฑูุช ุฎูุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ.';
                    responseDiv.classList.remove('hidden');
                    console.error('Error fetching LLM response:', error);
                } finally {
                    loadingDiv.classList.add('hidden');
                }
                return null; 
            }

            // Event Listener for Owl Consultation
            askOwlButton.addEventListener('click', () => {
                const prompt = owlQuestionInput.value.trim();
                if (!prompt) {
                    owlResponseConsultationDiv.textContent = 'ูุทูุงู ุณูุงู ุงุฒ ุฌุบุฏ ุฏุงูุง ุจูพุฑุณ!';
                    owlResponseConsultationDiv.classList.remove('hidden');
                    return;
                }
                const systemPrompt = `ุจู ุนููุงู ฺฉ ุฌุบุฏ ุฏุงูุง ู ููุฑูุงู ุญูุงุณ ุฌูุนุ ุชูุตูโูุง ฺฉูุชุงูุ ุณุงุฏู ู ุฏูฺฏุฑูโฺฉููุฏูโุง ุจู ฺฉ ฺฉูุฏฺฉ 7-8 ุณุงูู ุฏุฑุจุงุฑู ูุญูู ุจูุจูุฏ ุชูุฑฺฉุฒ ู ุญูุงุณโุฌูุน ุงู ุจุฏู. ุงู ุชูุตู ุจุงุฏ ุจุฑุง ฺฉ ฺฉูุฏฺฉ ูุงุจู ููู ู ุนูู ุจุงุดุฏ. ุขู ุฑุง ุฏุฑ 2 ุชุง 3 ุฌููู ุฎูุงุตู ฺฉู. ุฒุจุงู ูพุงุณุฎ ูุงุฑุณ ุจุงุดุฏ.`;
                callGeminiAPI(systemPrompt, `ุณูุงู ฺฉูุฏฺฉ: ${prompt}`, owlResponseConsultationDiv, loadingIndicatorConsultation);
            });

            // Event Listener for Focused Story
            getStoryButton.addEventListener('click', () => {
                const systemPrompt = `ุจู ุนููุงู ฺฉ ุฌุบุฏ ุฏุงูุง ู ุฏุงุณุชุงูโฺฏูุ ฺฉ ุฏุงุณุชุงู ฺฉูุชุงูุ ุณุงุฏู ู ุฌุฐุงุจ (ุญุฏูุฏ 3-5 ุฌููู) ุจุฑุง ฺฉ ฺฉูุฏฺฉ 7-8 ุณุงูู ุฏุฑุจุงุฑู ุงููุช ุชูุฑฺฉุฒ ุง ฺฺฏููฺฏ ุญูุธ ุญูุงุณโุฌูุน ุชุนุฑู ฺฉู. ุฏุงุณุชุงู ุจุงุฏ ุจุง ฺฉููุงุช ู ููุงูู ฺฉูุฏฺฉุงูู ุจุงุดุฏ. ุฒุจุงู ูพุงุณุฎ ูุงุฑุณ ุจุงุดุฏ.`;
                callGeminiAPI(systemPrompt, `ุฏุงุณุชุงู ุฏุฑุจุงุฑู ุชูุฑฺฉุฒ ุจฺฏู.`, owlResponseStoryDiv, loadingIndicatorStory);
            });

            // Event Listener for Daily Focus Challenge
            getChallengeButton.addEventListener('click', () => {
                const systemPrompt = `ุจู ุนููุงู ฺฉ ุฌุบุฏ ุฏุงูุง ู ูุฑุจุ ฺฉ ฺุงูุด ุฑูุฒุงูู ุจุณุงุฑ ุณุงุฏู ู ุนูู (ุฏุฑ ุญุฏ ฺฉ ุฌููู) ุจุฑุง ฺฉ ฺฉูุฏฺฉ 7-8 ุณุงูู ูพุดููุงุฏ ุจุฏู ฺฉู ุจู ุงู ุฏุฑ ุชููุช ุชูุฑฺฉุฒ ู ุญูุงุณโุฌูุน ฺฉูฺฉ ฺฉูุฏ. ูุซุงู: "ุงูุฑูุฒ ููุช ููุงุด ูโฺฉูุ ุณุน ฺฉู ููุท ุจู ููุงุดโุงุช ูฺฉุฑ ฺฉู ู ุจู ุตุฏุง ุชููุฒูู ฺฏูุด ูุฏู." ุฒุจุงู ูพุงุณุฎ ูุงุฑุณ ุจุงุดุฏ.`;
                callGeminiAPI(systemPrompt, `ฺฉ ฺallenge ุชูุฑฺฉุฒ ุจุฑุง ุงูุฑูุฒ ูพุดููุงุฏ ุจุฏู.`, owlResponseChallengeDiv, loadingIndicatorChallenge);
            });

            // Event Listener for Owl's Riddle
            getRiddleButton.addEventListener('click', () => {
                const systemPrompt = `ุจู ุนููุงู ฺฉ ุฌุบุฏ ุฏุงูุง ู ูุนูุงฺฏูุ ฺฉ ูุนูุง ุณุงุฏู ู ฺฉูุฏฺฉุงูู (ุญุฏุงฺฉุซุฑ 2 ุฌููู) ุจุฑุง ฺฉ ฺฉูุฏฺฉ 7-8 ุณุงูู ูุทุฑุญ ฺฉู ฺฉู ุจุฑุง ุญู ุขู ูุงุฒ ุจู ฺฉู ุฏูุช ู ุชูฺฉุฑ ุจุงุดุฏ. ูพุงุณุฎ ูุนูุง ุฑุง ุฏุฑ ุงุฏุงูู ูุฏู. ุฒุจุงู ูพุงุณุฎ ูุงุฑุณ ุจุงุดุฏ.`;
                callGeminiAPI(systemPrompt, `ฺฉ ูุนูุง ุจฺฏู.`, owlResponseRiddleDiv, loadingIndicatorRiddle);
            });

            // Event Listener for Owl's Calming Breath Exercise
            getBreathButton.addEventListener('click', () => {
                const systemPrompt = `ุจู ุนููุงู ฺฉ ุฌุบุฏ ุฏุงูุง ู ูุฑุจ ุขุฑุงูุดุ ฺฉ ุชูุฑู ุชููุณ ุขุฑุงูุดโุจุฎุด ุจุณุงุฑ ุณุงุฏู ู ฺฉูุชุงู (3-4 ุฌููู) ุจุฑุง ฺฉ ฺฉูุฏฺฉ 7-8 ุณุงูู ูุฏุงุช ฺฉู. ุจุฑ ุฑู ุฏู ู ุจุงุฒุฏู ุขุฑุงู ุชูุฑฺฉุฒ ฺฉู ู ุงุฒ ฺฉููุงุช ุฏููุดู ุงุณุชูุงุฏู ฺฉู. ุฒุจุงู ูพุงุณุฎ ูุงุฑุณ ุจุงุดุฏ.`;
                callGeminiAPI(systemPrompt, `ฺฉ ุชูุฑู ุชููุณ ุขุฑุงูุดโุจุฎุด ุจฺฏู.`, owlResponseBreathDiv, loadingIndicatorBreath);
            });


            const guidelineCards = document.querySelectorAll('.guideline-card');

            guidelineCards.forEach(card => {
                card.addEventListener('click', () => {
                    guidelineCards.forEach(otherCard => {
                        if (otherCard !== card && otherCard.classList.contains('active')) {
                            otherCard.classList.remove('active');
                        }
                    });
                    card.classList.toggle('active');
                });
            });

            const ctx = document.getElementById('activityBalanceChart').getContext('2d');
            const activityBalanceChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ุฎูุงุจ', 'ูุฏุฑุณู ู ุชฺฉุงูู', 'ุจุงุฒ ู ูุฑุฒุด', 'ุฒูุงู ุฎูุงูุช', 'ูุนุฏูโูุง ุบุฐุง', 'ุฒูุงู ููุงุดฺฏุฑ (ุญุฏุงฺฉุซุฑ)'],
                    datasets: [{
                        label: 'ุณุงุนุงุช ูพุดููุงุฏ ุฏุฑ ุฑูุฒ',
                        data: [10, 5, 2, 2, 2, 1],
                        backgroundColor: [
                            'rgba(88, 80, 236, 0.8)',
                            'rgba(129, 140, 248, 0.8)',
                            'rgba(20, 184, 166, 0.8)',
                            'rgba(245, 158, 11, 0.8)',
                            'rgba(59, 130, 246, 0.8)',
                            'rgba(239, 68, 68, 0.8)'
                        ],
                        borderColor: [
                            'rgba(255, 255, 255, 1)'
                        ],
                        borderWidth: 3,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: {
                                    family: 'Vazirmatn',
                                    size: 14
                                },
                                color: '#334155'
                            }
                        },
                        tooltip: {
                            bodyFont: {
                                family: 'Vazirmatn'
                            },
                            titleFont: {
                                family: 'Vazirmatn'
                            },
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += context.parsed + ' ุณุงุนุช';
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    cutout: '60%'
                }
            });

            const games = [
                {
                    id: 'stroop',
                    title: 'ุจุงุฒ ุฑูฺฏ ู ฺฉููู',
                    description: 'ฺฉููู ุฒุฑ ุฑุง ุจุฎูุงูุฏ ู ุจฺฏูุฏ **ุฑูฺฏ ูุงูุน ฺฉููู** ฺุณุช.',
                    content: `
                        <div class="text-4xl font-bold mb-4" id="stroopWord"></div>
                        <div class="flex flex-wrap justify-center space-x-2 md:space-x-4">
                            <button class="bg-blue-500 hover:bg-blue-600 text-white font-semibold px-4 py-2 rounded-lg m-2 stroop-btn" data-answer="ุขุจ">ุขุจ</button>
                            <button class="bg-red-500 hover:bg-red-600 text-white font-semibold px-4 py-2 rounded-lg m-2 stroop-btn" data-answer="ูุฑูุฒ">ูุฑูุฒ</button>
                            <button class="bg-green-500 hover:bg-green-600 text-white font-semibold px-4 py-2 rounded-lg m-2 stroop-btn" data-answer="ุณุจุฒ">ุณุจุฒ</button>
                            <button class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold px-4 py-2 rounded-lg m-2 stroop-btn" data-answer="ุฒุฑุฏ">ุฒุฑุฏ</button>
                        </div>
                        <p id="stroopFeedback" class="mt-4 text-lg font-semibold"></p>
                    `,
                    setup: function(containerId) {
                        const colors = [
                            { word: 'ูุฑูุฒ', displayColor: 'blue', hex: '#3B82F6' },
                            { word: 'ุขุจ', displayColor: 'red', hex: '#EF4444' },
                            { word: 'ุณุจุฒ', displayColor: 'purple', hex: '#A855F7' },
                            { word: 'ุฒุฑุฏ', displayColor: 'green', hex: '#22C55E' }
                        ];
                        const randomIndex = Math.floor(Math.random() * colors.length);
                        const chosenColor = colors[randomIndex];

                        const stroopWordElement = document.getElementById('stroopWord');
                        stroopWordElement.textContent = chosenColor.word;
                        stroopWordElement.style.color = chosenColor.hex;

                        const buttons = document.querySelectorAll(`#${containerId} .stroop-btn`);
                        const feedbackElement = document.getElementById('stroopFeedback');
                        feedbackElement.textContent = ''; 

                        buttons.forEach(button => {
                            button.onclick = () => {
                                if (button.dataset.answer === chosenColor.word) {
                                    feedbackElement.textContent = 'ุฏุฑุณุช ุจูุฏ! ููุฑูุงู ุญูุงุณ ุฌูุน! ๐';
                                    feedbackElement.className = 'mt-4 text-lg font-semibold text-green-600';
                                } else {
                                    feedbackElement.textContent = 'ูุฒุฏฺฉ ุจูุฏ! ุฏูุจุงุฑู ุงูุชุญุงู ฺฉู. ๐ค';
                                    feedbackElement.className = 'mt-4 text-lg font-semibold text-red-600';
                                }
                            };
                        });
                    }
                },
                {
                    id: 'oddOneOut',
                    title: 'ูพุฏุง ฺฉุฑุฏู ูุชูุงูุช',
                    description: 'ุฑู ุดฺฉู ูุชูุงูุช ฺฉู ุฏุฑ ุจู ุจูู ูพููุงู ุดุฏู ฺฉูฺฉ ฺฉูุฏ!',
                    content: `
                        <div class="grid grid-cols-4 gap-2 text-3xl mb-4 max-w-xs mx-auto" id="oddOneOutGrid"></div>
                        <p id="oddOneOutFeedback" class="mt-4 text-lg font-semibold"></p>
                    `,
                    setup: function(containerId) {
                        const commonEmoji = '๐';
                        const oddEmoji = '๐';
                        const totalEmojis = 16;
                        const emojis = Array(totalEmojis - 1).fill(commonEmoji);
                        const randomIndex = Math.floor(Math.random() * totalEmojis);
                        emojis.splice(randomIndex, 0, oddEmoji);
                        
                        const oddOneOutGrid = document.getElementById('oddOneOutGrid');
                        const feedbackElement = document.getElementById('oddOneOutFeedback');
                        oddOneOutGrid.innerHTML = '';
                        feedbackElement.textContent = '';

                        emojis.forEach((emoji, index) => {
                            const span = document.createElement('span');
                            span.textContent = emoji;
                            span.className = 'flex items-center justify-center p-2 rounded-md hover:bg-slate-100 cursor-pointer transition-colors duration-200';
                            span.dataset.index = index;
                            oddOneOutGrid.appendChild(span);

                            span.onclick = () => {
                                if (parseInt(span.dataset.index) === randomIndex) {
                                    feedbackElement.textContent = 'ุฏุฑุณุช ุจูุฏ! ููุฑูุงู ุญูุงุณ ุฌูุน! ๐';
                                    feedbackElement.className = 'mt-4 text-lg font-semibold text-green-600';
                                } else {
                                    feedbackElement.textContent = 'ูุฒุฏฺฉ ุจูุฏ! ุฏูุจุงุฑู ุงูุชุญุงู ฺฉู. ๐ค';
                                    feedbackElement.className = 'mt-4 text-lg font-semibold text-red-600';
                                }
                            };
                        });
                    }
                },
                {
                    id: 'quickCount',
                    title: 'ุดูุงุฑุด ุณุฑุน',
                    description: 'ุฏุฑ ฺฉูุชุฑ ุงุฒ 5 ุซุงูู ุจฺฏูุฏ ฺูุฏ ุชุง ุณุชุงุฑู โญ ูุฌูุฏ ุฏุงุฑุฏุ',
                    content: `
                        <div class="text-4xl mb-4 leading-relaxed flex flex-wrap justify-center" id="countObjectsDisplay"></div>
                        <input type="number" id="countInput" class="w-24 p-2 border rounded text-center text-slate-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition duration-200" placeholder="ุนุฏุฏ" />
                        <button id="checkCountButton" class="bg-indigo-500 hover:bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg mt-4 shadow-md transition duration-300 transform hover:scale-105">ุจุฑุฑุณ</button>
                        <p id="countFeedback" class="mt-4 text-lg font-semibold"></p>
                    `,
                    setup: function(containerId) {
                        const targetEmoji = 'โญ';
                        const otherEmoji = 'โจ';
                        const numStars = Math.floor(Math.random() * 5) + 3;
                        const totalEmojis = 20;
                        const emojis = Array(totalEmojis - numStars).fill(otherEmoji);
                        for (let i = 0; i < numStars; i++) {
                            emojis.push(targetEmoji);
                        }
                        emojis.sort(() => Math.random() - 0.5);

                        const displayElement = document.getElementById('countObjectsDisplay');
                        const inputElement = document.getElementById('countInput');
                        const checkButton = document.getElementById('checkCountButton');
                        const feedbackElement = document.getElementById('countFeedback');

                        displayElement.textContent = emojis.join('');
                        inputElement.value = '';
                        feedbackElement.textContent = '';
                        inputElement.disabled = false;
                        checkButton.disabled = false;

                        let timer = setTimeout(() => {
                            if (feedbackElement.textContent === '') {
                                feedbackElement.textContent = 'ุฒูุงู ุชูุงู ุดุฏ! ๐ค';
                                feedbackElement.className = 'mt-4 text-lg font-semibold text-red-600';
                                checkButton.disabled = true;
                                inputElement.disabled = true;
                            }
                        }, 5000);

                        checkButton.onclick = () => {
                            clearTimeout(timer);
                            checkButton.disabled = true;
                            inputElement.disabled = true;
                            if (parseInt(inputElement.value) === numStars) {
                                feedbackElement.textContent = 'ุฏุฑุณุช ุจูุฏ! ููุฑูุงู ุญูุงุณ ุฌูุน! ๐';
                                feedbackElement.className = 'mt-4 text-lg font-semibold text-green-600';
                            } else {
                                feedbackElement.textContent = `ูุฒุฏฺฉ ุจูุฏ! ุชุนุฏุงุฏ ุฏุฑุณุช ${numStars} ุจูุฏ. ๐ค`;
                                feedbackElement.className = 'mt-4 text-lg font-semibold text-red-600';
                            }
                        };
                    }
                },
                {
                    id: 'memoryMatch',
                    title: 'ุจุงุฒ ุชุทุงุจู ุญุงูุธู ๐ง',
                    description: 'ฺฉุงุฑุชโูุง ุฑุง ุจุฑฺฏุฑุฏุงูุฏ ู ุฌูุชโูุง ูุดุงุจู ุฑุง ูพุฏุง ฺฉูุฏ! (ูุฏู: ุงูุชู ููู ุฌูุชโูุง)',
                    content: `
                        <div class="memory-grid mb-4" id="memoryGrid"></div>
                        <p id="memoryFeedback" class="mt-4 text-lg font-semibold"></p>
                        <button id="memoryResetBtn" class="bg-gray-500 hover:bg-gray-600 text-white font-semibold px-4 py-2 rounded-lg mt-4 shadow-md transition duration-300 transform hover:scale-105">ุดุฑูุน ูุฌุฏุฏ</button>
                    `,
                    setup: function(containerId) {
                        const emojis = ['๐', '๐', '๐', '๐ฅ', '๐', '๐', '๐ฅญ', '๐'];
                        const gameEmojis = [...emojis, ...emojis]; // Duplicate for pairs
                        gameEmojis.sort(() => Math.random() - 0.5); // Shuffle

                        const memoryGrid = document.getElementById('memoryGrid');
                        const memoryFeedback = document.getElementById('memoryFeedback');
                        const memoryResetBtn = document.getElementById('memoryResetBtn');

                        memoryGrid.innerHTML = '';
                        memoryFeedback.textContent = '';
                        memoryResetBtn.onclick = () => games.find(g => g.id === 'memoryMatch').setup(containerId);

                        let flippedCards = [];
                        let matchedCards = [];
                        let canFlip = true;

                        gameEmojis.forEach((emoji, index) => {
                            const card = document.createElement('div');
                            card.className = 'memory-card';
                            card.dataset.emoji = emoji;
                            card.dataset.index = index;
                            card.innerHTML = `
                                <div class="card-face card-back">?</div>
                                <div class="card-face card-front">${emoji}</div>
                            `;
                            memoryGrid.appendChild(card);

                            card.onclick = () => {
                                if (!canFlip || flippedCards.length === 2 || card.classList.contains('flipped') || card.classList.contains('matched')) {
                                    return;
                                }

                                card.classList.add('flipped');
                                flippedCards.push(card);

                                if (flippedCards.length === 2) {
                                    canFlip = false;
                                    setTimeout(() => {
                                        const [card1, card2] = flippedCards;
                                        if (card1.dataset.emoji === card2.dataset.emoji) {
                                            card1.classList.add('matched');
                                            card2.classList.add('matched');
                                            matchedCards.push(card1, card2);
                                            memoryFeedback.textContent = 'ุฌูุช ูพุฏุง ุดุฏ! ๐';
                                            memoryFeedback.className = 'mt-4 text-lg font-semibold text-green-600';
                                        } else {
                                            card1.classList.remove('flipped');
                                            card2.classList.remove('flipped');
                                            memoryFeedback.textContent = 'ุงุดุชุจุงู ุจูุฏ! ๐ค';
                                            memoryFeedback.className = 'mt-4 text-lg font-semibold text-red-600';
                                        }
                                        flippedCards = [];
                                        canFlip = true;
                                        
                                        if (matchedCards.length === gameEmojis.length) {
                                            memoryFeedback.textContent = 'ุชุจุฑฺฉ! ููู ุฌูุชโูุง ุฑุง ูพุฏุง ฺฉุฑุฏุฏ! ๐';
                                            memoryFeedback.className = 'mt-4 text-lg font-semibold text-indigo-700';
                                        }
                                    }, 1000);
                                }
                            };
                        });
                    }
                },
                {
                    id: 'findSequence',
                    title: 'ฺฉุดู ุชูุงู ๐ก',
                    description: 'ุชูุงู ุฒุฑ ุฑุง ุจู ุฏูุช ูฺฏุงู ฺฉูุฏุ ุณูพุณ ุนูุตุฑ ุจุนุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.',
                    content: `
                        <div class="text-4xl mb-6 flex justify-center space-x-2" id="sequenceDisplay"></div>
                        <div class="flex flex-wrap justify-center gap-4" id="sequenceOptions"></div>
                        <p id="sequenceFeedback" class="mt-4 text-lg font-semibold"></p>
                    `,
                    setup: function(containerId) {
                        const elements = ['๐ด', '๐ต', '๐ข', '๐ก', '๐ฃ', '๐'];
                        const sequenceLength = 4;
                        const sequence = [];
                        for (let i = 0; i < sequenceLength; i++) {
                            sequence.push(elements[Math.floor(Math.random() * elements.length)]);
                        }
                        // Determine the next element based on a simple rule or random
                        const nextElement = elements[Math.floor(Math.random() * elements.length)]; // Simple random for now
                        sequence.push(nextElement); // The full sequence, last one is the answer

                        const displaySequence = sequence.slice(0, sequenceLength); // Show only part of the sequence

                        const sequenceDisplay = document.getElementById('sequenceDisplay');
                        const sequenceOptions = document.getElementById('sequenceOptions');
                        const sequenceFeedback = document.getElementById('sequenceFeedback');

                        sequenceDisplay.textContent = displaySequence.join(' ');
                        sequenceOptions.innerHTML = '';
                        sequenceFeedback.textContent = '';

                        const options = [...new Set(elements)]; // Unique options
                        options.sort(() => Math.random() - 0.5); // Shuffle options

                        options.forEach(optionEmoji => {
                            const button = document.createElement('button');
                            button.textContent = optionEmoji;
                            button.className = 'bg-indigo-500 hover:bg-indigo-600 text-white font-semibold px-4 py-2 rounded-lg text-3xl shadow-md transition duration-300 transform hover:scale-105';
                            button.onclick = () => {
                                if (optionEmoji === nextElement) {
                                    sequenceFeedback.textContent = 'ุฏุฑุณุช ุจูุฏ! ููุฑูุงู ุญูุงุณ ุฌูุน! ๐';
                                    sequenceFeedback.className = 'mt-4 text-lg font-semibold text-green-600';
                                } else {
                                    sequenceFeedback.textContent = 'ูุฒุฏฺฉ ุจูุฏ! ุฏูุจุงุฑู ุงูุชุญุงู ฺฉู. ๐ค';
                                    feedbackElement.className = 'mt-4 text-lg font-semibold text-red-600';
                                }
                                // Disable options after first click
                                document.querySelectorAll(`#${containerId} #sequenceOptions button`).forEach(btn => btn.disabled = true);
                            };
                            sequenceOptions.appendChild(button);
                        });
                    }
                }
            ];

            let currentGameIndex = -1;

            function loadGame() {
                const gameContainer = document.getElementById('gameContainer');
                let nextGameIndex;
                do {
                    nextGameIndex = Math.floor(Math.random() * games.length);
                } while (nextGameIndex === currentGameIndex);
                currentGameIndex = nextGameIndex;

                const game = games[currentGameIndex];
                
                gameContainer.innerHTML = `
                    <div class="w-full flex flex-col items-center">
                        <h3 class="text-2xl font-semibold text-indigo-700 mb-3">${game.title}</h3>
                        <p class="text-base text-slate-600 mb-6">${game.description}</p>
                        ${game.content}
                    </div>
                `;

                game.setup('gameContainer');
            }

            document.getElementById('newGameButton').addEventListener('click', loadGame);

            document.getElementById('gameContainer').innerHTML = `
                <div class="text-xl text-slate-700">
                    ุจุฑุง ุดุฑูุนุ ุฑู "ุจุงุฒ ุฌุฏุฏ" ฺฉูฺฉ ฺฉูุฏ!
                </div>
            `;

            // Home Exercises Logic
            const homeExercises = [
                {
                    title: 'ฑ. ุจุงุฒ "ุตุฏุง ุงุจ" (ุชููุช ุดูุฏุงุฑ ู ุชูุฌู ุงูุชุฎุงุจ)',
                    description: `
                        ุจุง ฺฉูุฏฺฉ ุฏุฑ ุงุชุงู ุง ูุถุง ุฎุงูู ุจูุดูุฏ. ฺุดูุงู ฺฉูุฏฺฉ ุฑุง ุจุจูุฏุฏ ุง ุงุฒ ุงู ุจุฎูุงูุฏ ฺุดูุงูุด ุฑุง ุจุจูุฏุฏ.
                        ุดูุง ุตุฏุงูุง ูุฎุชูู ุฏุฑ ุงุทุฑุงู ุชููุฏ ฺฉูุฏ (ูุซูุงู ุฒุฏู ูุงุดู ุจู ููุงูุ ูุฑู ุฒุฏู ฺฉุชุงุจุ ุตุฏุง ฺฉูุฏุ ุจุณุชู ุขูุณุชู ุฏุฑ).
                        ุงุฒ ฺฉูุฏฺฉ ุจุฎูุงูุฏ ุจุนุฏ ุงุฒ ูุฑ ุตุฏุงุ ุขู ุฑุง ุดูุงุณุง ฺฉูุฏ ู ุณูพุณ ููุจุน ุตุฏุง ุฑุง ุจุง ฺุดูุงู ุจุณุชู ุญุฏุณ ุจุฒูุฏ.
                        ูโุชูุงูุฏ ุตุฏุงูุง ุฑุง ุฏูุฑ ุง ูุฒุฏฺฉุ ุขูุณุชู ุง ุจููุฏ ฺฉูุฏ ุชุง ฺุงูุด ุจุดุชุฑ ุงุฌุงุฏ ุดูุฏ.
                    `
                },
                {
                    title: 'ฒ. "ฺฉุงุฑุขฺฏุงู ุฑูฺฏโูุง" (ุชููุช ุฏุฏุงุฑ ู ุชูุฌู ูพุงุฏุงุฑ)',
                    description: `
                        ุจู ฺฉูุฏฺฉ ฺฉ ุดุก ุจุง ุฑูฺฏ ุฎุงุต (ูุซูุงู ฺฉ ูุฏุงุฏ ุขุจ) ูุดุงู ุฏูุฏ ู ุงุฒ ุงู ุจุฎูุงูุฏ ุฏุฑ ุงุชุงู ุง ูุถุง ุฎุงููุ ุชูุงู ุงุดุงุก ุฏฺฏุฑ ุฑุง ฺฉู ููุงู ุฑูฺฏ ุฑุง ุฏุงุฑูุฏุ ูพุฏุง ฺฉูุฏ ู ูุงู ุจุจุฑุฏ.
                        ูโุชูุงูุฏ ุจุฑุง ุงู ฺฉุงุฑ ุฒูุงู ุชุนู ฺฉูุฏ (ูุซูุงู ฑ ุฏููู).
                        ุณูพุณ ุฑูฺฏ ุดุก ุฑุง ุชุบุฑ ุฏูุฏ ู ุจุงุฒ ุฑุง ุชฺฉุฑุงุฑ ฺฉูุฏ. ุงู ุจุงุฒ ุจู ุฏูุช ุจูุง ู ุญูุธ ุชูุฑฺฉุฒ ุจุฑ ฺฉ ูฺฺฏ ุฎุงุต ฺฉูฺฉ ูโฺฉูุฏ.
                    `
                },
                {
                    title: 'ณ. "ุดูุงุฑุด ูุนฺฉูุณ ุณฺฉูุช" (ุชููุช ุฎูุฏุชูุธู ู ุชูุฑฺฉุฒ)',
                    description: `
                        ุจุง ฺฉูุฏฺฉ ุฏุฑ ูุญุท ุขุฑุงู ุจูุดูุฏ. ุงุฒ ุงู ุจุฎูุงูุฏ ฺุดูุงูุด ุฑุง ุจุจูุฏุฏ ุง ุจู ฺฉ ููุทู ุซุงุจุช ูฺฏุงู ฺฉูุฏ.
                        ุงุฒ ฺฉูุฏฺฉ ุจุฎูุงูุฏ ุฏุฑ ุฐูู ุฎูุฏ ุงุฒ ุนุฏุฏ ฑฐ ุจู ฑ ุจู ุตูุฑุช ูุนฺฉูุณ ุจุดูุงุฑุฏ ู ุณุน ฺฉูุฏ ุฏุฑ ุชูุงู ุงู ูุฏุชุ ูฺ ุตุฏุง ุฏฺฏุฑ ุงู ุฑุง ุงุฐุช ูฺฉูุฏ ู ุฑู ุดูุงุฑุด ุฎูุฏ ูุชูุฑฺฉุฒ ุจูุงูุฏ.
                        ุงฺฏุฑ ุตุฏุง ูุฒุงุญู ุดูุฏุ ุจุงุฏ ุงุฒ ุงูู ุดุฑูุน ฺฉูุฏ. ุงู ุชูุฑู ุจู ฺฉูุชุฑู ุชฺฉุงูู ู ููุงููุช ุฏุฑ ุจุฑุงุจุฑ ุญูุงุณโูพุฑุช ฺฉูฺฉ ูโฺฉูุฏ.
                    `
                },
                {
                    title: 'ด. "ุฏุงุณุชุงู ุงุฏุงูู ุจุฏู" (ุชููุช ุญุงูุธู ู ุชูุงู)',
                    description: `
                        ุดูุง ฺฉ ุฌููู ฺฉูุชุงู ุฑุง ุดุฑูุน ฺฉูุฏ (ูุซูุงู: "ฺฉ ุฑูุฒุ ฺฉ ูพุฑูุฏู ฺฉูฺฺฉ ุงุฒ ูุงููโุงุด ุจุฑูู ุขูุฏ ู...").
                        ุณูพุณ ฺฉูุฏฺฉ ฺฉ ุฌููู ุจู ุขู ุงุถุงูู ฺฉูุฏ. ุจุนุฏ ุดูุง ุฏูุจุงุฑู ฺฉ ุฌููู ุงุถุงูู ฺฉูุฏ ู ุจู ููู ุชุฑุชุจ ุฏุงุณุชุงู ุฑุง ุงุฏุงูู ุฏูุฏ.
                        ูฺฉุชู ููู ุงู ุงุณุช ฺฉู ูุฑ ููุฑ ุจุงุฏ ุชูุงู ุฌููุงุช ูุจู ุฑุง ุจู ุฎุงุทุฑ ุจุณูพุงุฑุฏ ู ุฏุงุณุชุงู ุฑุง ุจุง ุญูุธ ุชูุงู ุงุฏุงูู ุฏูุฏ. ุงู ูุนุงูุช ุญุงูุธู ฺฉุงุฑ ู ุชูุงู ุดูุฏุงุฑ ุฑุง ุชููุช ูโฺฉูุฏ.
                    `
                },
                {
                    title: 'ต. "ูพุฏุง ฺฉู ุชูุงูุชโูุง" (ฺฉุงุฑุจุฑฺฏ ุฏุฏุงุฑ)',
                    description: `
                        ฺฉ ฺฉุงุฑุจุฑฺฏ ุขูุงุฏู ุงุฒ ุจุงุฒ "ูพุฏุง ฺฉุฑุฏู ุชูุงูุชโูุง" (ุฏู ุชุตูุฑ ูุดุงุจู ฺฉู ฺูุฏ ุชูุงูุช ฺฉูฺฺฉ ุฏุงุฑูุฏ) ุฑุง ูพุฑูุช ุจฺฏุฑุฏ.
                        ููุฑุงู ุจุง ฺฉูุฏฺฉุ ุชูุงูุชโูุง ุฑุง ฺฉ ฺฉ ูพุฏุง ฺฉูุฏ ู ุนูุงูุช ุจุฒูุฏ.
                        ุงู ูุนุงูุช ุจู ุชููุช ุชูุฌู ุฌุฒุฆโูฺฏุฑ ู ุฏูุช ุจูุง ฺฉูฺฉ ูโฺฉูุฏ. ูโุชูุงูุฏ ุชุนุฏุงุฏ ุชูุงูุชโูุง ู ูพฺุฏฺฏ ุชุตูุฑ ุฑุง ุจุฑ ุงุณุงุณ ุณู ู ุชูุงูุง ฺฉูุฏฺฉ ุชูุธู ฺฉูุฏ.
                    `
                }
            ];

            let currentHomeExerciseIndex = -1;

            function loadHomeExercise() {
                const homeExerciseTitle = document.getElementById('homeExerciseTitle');
                const homeExerciseDescription = document.getElementById('homeExerciseDescription');
                const homeExerciseInitialMessage = document.getElementById('homeExerciseInitialMessage');

                let nextIndex;
                do {
                    nextIndex = Math.floor(Math.random() * homeExercises.length);
                } while (nextIndex === currentHomeExerciseIndex);
                currentHomeExerciseIndex = nextIndex;

                const exercise = homeExercises[currentHomeExerciseIndex];
                
                homeExerciseInitialMessage.classList.add('hidden');
                homeExerciseTitle.textContent = exercise.title;
                homeExerciseDescription.textContent = exercise.description;
                homeExerciseTitle.classList.remove('hidden');
                homeExerciseDescription.classList.remove('hidden');
            }

            document.getElementById('newHomeExerciseButton').addEventListener('click', loadHomeExercise);

        });
    </script>
</body>
</html>